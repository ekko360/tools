<!DOCTYPE html>
<html>
<style type="text/css">
    * {
        box-sizing: border-box
    }

    body {
        font-family: sans-serif;
        font-size: 18px;
        background: #e9eeee;
    }

    textarea {
        width: 100%;
        height: 180px;
        border: none;
        border-radius: 10px;
        resize: none;
        box-shadow: 0 0 1rem #ddd;
        padding: 15px;
        font-size: 18px;
    }
</style>

<body>
    <div id="root">
        <h1>DEVELOPER CODE GENERATOR</h1>
        <p>Paste html code</p>
    </div>
    <textarea id="txt1"></textarea><br>
    <textarea id="txt2"></textarea>
    <button onclick="init();">GENERAR</button>

    <script type="text/javascript">
        const root = document.querySelector("#root");
        const txt = document.querySelector("#txt1");
        const txt2 = document.querySelector("#txt2");
        //txt.value = root.outerHTML;
        const reTagName = (element, newtype, doc) => {
            let newelement = doc.createElement(newtype);
            while (element.firstChild) newelement.appendChild(element.firstChild);
            for (let i = 0, a = element.attributes, l = a.length; i < l; i++) {
                newelement.attributes[a[i].name] = a[i].value;
            }
            element.parentNode.replaceChild(newelement, element);
        }
        const init = () => {
            const html = txt1.value;
            const parser = new DOMParser();
            const doc = parser.parseFromString(html, 'text/html');
            /*const replaces = {
                h1: 'h6',
                p: 'h1'
            }
            for (let tagName in replaces) {
                const newtype = replaces[tagName];
                for (let element of doc.querySelectorAll(tagName)) {
                    reTagName(element, newtype, doc);
                }
            }*/
            for (let h1 of doc.querySelectorAll("h1")) {
                h1.ariaHidden = true;
                h1.dataset.nosnippet = '';
                h1.style.display = 'none';
            }
            for (let h2 of doc.querySelectorAll("h2")) {
                h2.ariaHidden = true;
                h2.dataset.nosnippet = '';
                h2.style.display = 'none';
            }
            for (let h3 of doc.querySelectorAll("h3")) {
                h3.ariaHidden = true;
                h3.dataset.nosnippet = '';
                h3.style.display = 'none';
            }
            for (let h4 of doc.querySelectorAll("h4")) {
                h4.ariaHidden = true;
                h4.dataset.nosnippet = '';
                h4.style.display = 'none';
            }
            for (let h5 of doc.querySelectorAll("h5")) {
                h5.ariaHidden = true;
                h5.dataset.nosnippet = '';
                h5.style.display = 'none';
            }
            for (let h6 of doc.querySelectorAll("h6")) {
                h6.ariaHidden = true;
                h6.dataset.nosnippet = '';
                h6.style.display = 'none';
            }
            for (let p of doc.querySelectorAll("p")) {
                p.ariaHidden = true;
                p.dataset.nosnippet = '';
                p.style.display = 'none';
            }
            txt2.value = doc.body.innerHTML;
        }
        init();
    </script>
</body>

</html>
